import{r as Ve,j as g,R as U,L as It}from"./index-CG4sd2nJ.js";import{c as oe,a as Rt,B as we,b as Tt}from"./Button-B6yBIJG-.js";const Ut=({title:e,titleId:t,...r})=>Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"none","aria-labelledby":t,...r},e?Ve.createElement("title",{id:t},e):null,Ve.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.01 22.99 16.002 16l6.991 6.99m0-13.98L16 16 9.01 9.01"})),I=[];for(let e=0;e<256;++e)I.push((e+256).toString(16).slice(1));function Ot(e,t=0){return(I[e[t+0]]+I[e[t+1]]+I[e[t+2]]+I[e[t+3]]+"-"+I[e[t+4]]+I[e[t+5]]+"-"+I[e[t+6]]+I[e[t+7]]+"-"+I[e[t+8]]+I[e[t+9]]+"-"+I[e[t+10]]+I[e[t+11]]+I[e[t+12]]+I[e[t+13]]+I[e[t+14]]+I[e[t+15]]).toLowerCase()}let je;const Bt=new Uint8Array(16);function Mt(){if(!je){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");je=crypto.getRandomValues.bind(crypto)}return je(Bt)}const Pt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xe={randomUUID:Pt};function qt(e,t,r){e=e||{};const i=e.random??e.rng?.()??Mt();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ot(i)}function zt(e,t,r){return Xe.randomUUID&&!e?Xe.randomUUID():qt(e)}const me=({title:e,children:t})=>g.jsxs("div",{className:"p-[20px] rounded-[8px] bg-system-background flex flex-col gap-[20px]",children:[g.jsx("h2",{className:"text-h2 text-black leading-[1.4]",children:e}),t]});var be=e=>e.type==="checkbox",ie=e=>e instanceof Date,B=e=>e==null;const xt=e=>typeof e=="object";var E=e=>!B(e)&&!Array.isArray(e)&&xt(e)&&!ie(e),Wt=e=>E(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Ht=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$t=(e,t)=>e.has(Ht(t)),Gt=e=>{const t=e.constructor&&e.constructor.prototype;return E(t)&&t.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function C(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Te&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(E(e)&&Gt(e)))return e;const i=r?[]:Object.create(Object.getPrototypeOf(e));for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=C(e[o]));return i}var Fe=e=>/^\w*$/.test(e),A=e=>e===void 0,Ue=e=>Array.isArray(e)?e.filter(Boolean):[],Oe=e=>Ue(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,t,r)=>{if(!t||!E(e))return r;const i=(Fe(t)?[t]:Oe(t)).reduce((o,n)=>B(o)?o:o[n],e);return A(i)||i===e?A(e[t])?r:e[t]:i},Q=e=>typeof e=="boolean",$=e=>typeof e=="function",F=(e,t,r)=>{let i=-1;const o=Fe(t)?[t]:Oe(t),n=o.length,u=n-1;for(;++i<n;){const c=o[i];let D=r;if(i!==u){const _=e[c];D=E(_)||Array.isArray(_)?_:isNaN(+o[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=D,e=e[c]}};const Ze={BLUR:"blur",FOCUS_OUT:"focusout"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yt=U.createContext(null);Yt.displayName="HookFormControlContext";var Qt=(e,t,r,i=!0)=>{const o={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const u=n;return t._proxyFormState[u]!==G.all&&(t._proxyFormState[u]=!i||G.all),e[u]}});return o};const Jt=typeof window<"u"?U.useLayoutEffect:U.useEffect;var q=e=>typeof e=="string",Kt=(e,t,r,i,o)=>q(e)?(i&&t.watch.add(e),h(r,e,o)):Array.isArray(e)?e.map(n=>(i&&t.watch.add(n),h(r,n))):(i&&(t.watchAll=!0),r),Ie=e=>B(e)||!xt(e);function te(e,t,r=new WeakSet){if(Ie(e)||Ie(t))return Object.is(e,t);if(ie(e)&&ie(t))return Object.is(e.getTime(),t.getTime());const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const n of i){const u=e[n];if(!o.includes(n))return!1;if(n!=="ref"){const c=t[n];if(ie(u)&&ie(c)||E(u)&&E(c)||Array.isArray(u)&&Array.isArray(c)?!te(u,c,r):!Object.is(u,c))return!1}}return!0}const Xt=U.createContext(null);Xt.displayName="HookFormContext";var Zt=(e,t,r,i,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},xe=e=>Array.isArray(e)?e:[e],et=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}};function gt(e,t){const r={};for(const i in e)if(e.hasOwnProperty(i)){const o=e[i],n=t[i];if(o&&E(o)&&n){const u=gt(o,n);E(u)&&(r[i]=u)}else e[i]&&(r[i]=n)}return r}var O=e=>E(e)&&!Object.keys(e).length,Be=e=>e.type==="file",_e=e=>{if(!Te)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},bt=e=>e.type==="select-multiple",Me=e=>e.type==="radio",er=e=>Me(e)||be(e),Ne=e=>_e(e)&&e.isConnected;function tr(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=A(e)?i++:e[t[i++]];return e}function rr(e){for(const t in e)if(e.hasOwnProperty(t)&&!A(e[t]))return!1;return!0}function S(e,t){const r=Array.isArray(t)?t:Fe(t)?[t]:Oe(t),i=r.length===1?e:tr(e,r),o=r.length-1,n=r[o];return i&&delete i[n],o!==0&&(E(i)&&O(i)||Array.isArray(i)&&rr(i))&&S(e,r.slice(0,-1)),e}var sr=e=>{for(const t in e)if($(e[t]))return!0;return!1};function vt(e){return Array.isArray(e)||E(e)&&!sr(e)}function Re(e,t={}){for(const r in e){const i=e[r];vt(i)?(t[r]=Array.isArray(i)?[]:{},Re(i,t[r])):A(i)||(t[r]=!0)}return t}function le(e,t,r){r||(r=Re(t));for(const i in e){const o=e[i];if(vt(o))A(t)||Ie(r[i])?r[i]=Re(o,Array.isArray(o)?[]:{}):le(o,B(t)?{}:t[i],r[i]);else{const n=t[i];r[i]=!te(o,n)}}return r}const tt={value:!1,isValid:!1},rt={value:!0,isValid:!0};var pt=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!A(e[0].attributes.value)?A(e[0].value)||e[0].value===""?rt:{value:e[0].value,isValid:!0}:rt:tt}return tt},mt=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>A(e)?e:t?e===""?NaN:e&&+e:r&&q(e)?new Date(e):i?i(e):e;const st={isValid:!1,value:null};var Vt=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,st):st;function it(e){const t=e.ref;return Be(t)?t.files:Me(t)?Vt(e.refs).value:bt(t)?[...t.selectedOptions].map(({value:r})=>r):be(t)?pt(e.refs).value:mt(A(t.value)?e.ref.value:t.value,e)}var ir=(e,t,r,i)=>{const o={};for(const n of e){const u=h(t,n);u&&F(o,n,u._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},ke=e=>e instanceof RegExp,he=e=>A(e)?e:ke(e)?e.source:E(e)?ke(e.value)?e.value.source:e.value:e,at=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched});const nt="AsyncFunction";var ar=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===nt||E(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===nt)),nr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lt=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ge=(e,t,r,i)=>{for(const o of r||Object.keys(e)){const n=h(e,o);if(n){const{_f:u,...c}=n;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],o)&&!i)return!0;if(u.ref&&t(u.ref,u.name)&&!i)return!0;if(ge(c,t))break}else if(E(c)&&ge(c,t))break}}};function ot(e,t,r){const i=h(e,r);if(i||Fe(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const n=o.join("."),u=h(t,n),c=h(e,n);if(u&&!Array.isArray(u)&&r!==n)return{name:r};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};o.pop()}return{name:r}}var lr=(e,t,r,i)=>{r(e);const{name:o,...n}=e;return O(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(u=>t[u]===(!i||G.all))},or=(e,t,r)=>!e||!t||e===t||xe(e).some(i=>i&&(r?i===t:i.startsWith(t)||t.startsWith(i))),ur=(e,t,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,dr=(e,t)=>!Ue(h(e,t)).length&&S(e,t),cr=(e,t,r)=>{const i=xe(h(e,r));return F(i,"root",t[r]),F(e,r,i),e};function ut(e,t,r="validate"){if(q(e)||Array.isArray(e)&&e.every(q)||Q(e)&&!e)return{type:r,message:q(e)?e:"",ref:t}}var ne=e=>E(e)&&!ke(e)?e:{value:e,message:""},dt=async(e,t,r,i,o,n)=>{const{ref:u,refs:c,required:D,maxLength:_,minLength:ue,min:k,max:L,pattern:v,validate:J,name:M,valueAsNumber:Y,mount:z}=e._f,p=h(r,M);if(!z||t.has(M))return{};const K=c?c[0]:u,X=b=>{o&&K.reportValidity&&(K.setCustomValidity(Q(b)?"":b||""),K.reportValidity())},j={},de=Me(u),ve=be(u),re=de||ve,ae=(Y||Be(u))&&A(u.value)&&A(p)||_e(u)&&u.value===""||p===""||Array.isArray(p)&&!p.length,W=Zt.bind(null,M,i,j),pe=(b,m,N,R=Z.maxLength,H=Z.minLength)=>{const P=b?m:N;j[M]={type:b?R:H,message:P,ref:u,...W(b?R:H,P)}};if(n?!Array.isArray(p)||!p.length:D&&(!re&&(ae||B(p))||Q(p)&&!p||ve&&!pt(c).isValid||de&&!Vt(c).isValid)){const{value:b,message:m}=q(D)?{value:!!D,message:D}:ne(D);if(b&&(j[M]={type:Z.required,message:m,ref:K,...W(Z.required,m)},!i))return X(m),j}if(!ae&&(!B(k)||!B(L))){let b,m;const N=ne(L),R=ne(k);if(!B(p)&&!isNaN(p)){const H=u.valueAsNumber||p&&+p;B(N.value)||(b=H>N.value),B(R.value)||(m=H<R.value)}else{const H=u.valueAsDate||new Date(p),P=ye=>new Date(new Date().toDateString()+" "+ye),ce=u.type=="time",fe=u.type=="week";q(N.value)&&p&&(b=ce?P(p)>P(N.value):fe?p>N.value:H>new Date(N.value)),q(R.value)&&p&&(m=ce?P(p)<P(R.value):fe?p<R.value:H<new Date(R.value))}if((b||m)&&(pe(!!b,N.message,R.message,Z.max,Z.min),!i))return X(j[M].message),j}if((_||ue)&&!ae&&(q(p)||n&&Array.isArray(p))){const b=ne(_),m=ne(ue),N=!B(b.value)&&p.length>+b.value,R=!B(m.value)&&p.length<+m.value;if((N||R)&&(pe(N,b.message,m.message),!i))return X(j[M].message),j}if(v&&!ae&&q(p)){const{value:b,message:m}=ne(v);if(ke(b)&&!p.match(b)&&(j[M]={type:Z.pattern,message:m,ref:u,...W(Z.pattern,m)},!i))return X(m),j}if(J){if($(J)){const b=await J(p,r),m=ut(b,K);if(m&&(j[M]={...m,...W(Z.validate,m.message)},!i))return X(m.message),j}else if(E(J)){let b={};for(const m in J){if(!O(b)&&!i)break;const N=ut(await J[m](p,r),K,m);N&&(b={...N,...W(m,N.message)},X(N.message),i&&(j[M]=b))}if(!O(b)&&(j[M]={ref:K,...b},!i))return j}}return X(!0),j};const fr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function yr(e={}){let t={...fr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:$(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=E(t.defaultValues)||E(t.values)?C(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:C(o),u={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},D,_=0;const ue={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},k={...ue};let L={...k};const v={array:et(),state:et()},J=t.criteriaMode===G.all,M=s=>a=>{clearTimeout(_),_=setTimeout(s,a)},Y=async s=>{if(!u.keepIsValid&&!t.disabled&&(k.isValid||L.isValid||s)){let a;t.resolver?(a=O((await re()).errors),z()):a=await W(i,!0),a!==r.isValid&&v.state.next({isValid:a})}},z=(s,a)=>{!t.disabled&&(k.isValidating||k.validatingFields||L.isValidating||L.validatingFields)&&((s||Array.from(c.mount)).forEach(l=>{l&&(a?F(r.validatingFields,l,a):S(r.validatingFields,l))}),v.state.next({validatingFields:r.validatingFields,isValidating:!O(r.validatingFields)}))},p=(s,a=[],l,y,f=!0,d=!0)=>{if(y&&l&&!t.disabled){if(u.action=!0,d&&Array.isArray(h(i,s))){const x=l(h(i,s),y.argA,y.argB);f&&F(i,s,x)}if(d&&Array.isArray(h(r.errors,s))){const x=l(h(r.errors,s),y.argA,y.argB);f&&F(r.errors,s,x),dr(r.errors,s)}if((k.touchedFields||L.touchedFields)&&d&&Array.isArray(h(r.touchedFields,s))){const x=l(h(r.touchedFields,s),y.argA,y.argB);f&&F(r.touchedFields,s,x)}(k.dirtyFields||L.dirtyFields)&&(r.dirtyFields=le(o,n)),v.state.next({name:s,isDirty:b(s,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else F(n,s,a)},K=(s,a)=>{F(r.errors,s,a),v.state.next({errors:r.errors})},X=s=>{r.errors=s,v.state.next({errors:r.errors,isValid:!1})},j=(s,a,l,y)=>{const f=h(i,s);if(f){const d=h(n,s,A(l)?h(o,s):l);A(d)||y&&y.defaultChecked||a?F(n,s,a?d:it(f._f)):R(s,d),u.mount&&!u.action&&Y()}},de=(s,a,l,y,f)=>{let d=!1,x=!1;const V={name:s};if(!t.disabled){if(!l||y){(k.isDirty||L.isDirty)&&(x=r.isDirty,r.isDirty=V.isDirty=b(),d=x!==V.isDirty);const w=te(h(o,s),a);x=!!h(r.dirtyFields,s),w?S(r.dirtyFields,s):F(r.dirtyFields,s,!0),V.dirtyFields=r.dirtyFields,d=d||(k.dirtyFields||L.dirtyFields)&&x!==!w}if(l){const w=h(r.touchedFields,s);w||(F(r.touchedFields,s,l),V.touchedFields=r.touchedFields,d=d||(k.touchedFields||L.touchedFields)&&w!==l)}d&&f&&v.state.next(V)}return d?V:{}},ve=(s,a,l,y)=>{const f=h(r.errors,s),d=(k.isValid||L.isValid)&&Q(a)&&r.isValid!==a;if(t.delayError&&l?(D=M(()=>K(s,l)),D(t.delayError)):(clearTimeout(_),D=null,l?F(r.errors,s,l):S(r.errors,s)),(l?!te(f,l):f)||!O(y)||d){const x={...y,...d&&Q(a)?{isValid:a}:{},errors:r.errors,name:s};r={...r,...x},v.state.next(x)}},re=async s=>(z(s,!0),await t.resolver(n,t.context,ir(s||c.mount,i,t.criteriaMode,t.shouldUseNativeValidation))),ae=async s=>{const{errors:a}=await re(s);if(z(s),s)for(const l of s){const y=h(a,l);y?F(r.errors,l,y):S(r.errors,l)}else r.errors=a;return a},W=async(s,a,l={valid:!0})=>{for(const y in s){const f=s[y];if(f){const{_f:d,...x}=f;if(d){const V=c.array.has(d.name),w=f._f&&ar(f._f);w&&k.validatingFields&&z([d.name],!0);const T=await dt(f,c.disabled,n,J,t.shouldUseNativeValidation&&!a,V);if(w&&k.validatingFields&&z([d.name]),T[d.name]&&(l.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(h(T,d.name)?V?cr(r.errors,T,d.name):F(r.errors,d.name,T[d.name]):S(r.errors,d.name))}!O(x)&&await W(x,a,l)}}return l.valid},pe=()=>{for(const s of c.unMount){const a=h(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Ne(l)):!Ne(a._f.ref))&&Ae(s)}c.unMount=new Set},b=(s,a)=>!t.disabled&&(s&&a&&F(n,s,a),!te(Pe(),o)),m=(s,a,l)=>Kt(s,c,{...u.mount?n:A(a)?o:q(s)?{[s]:a}:a},l,a),N=s=>Ue(h(u.mount?n:o,s,t.shouldUnregister?h(o,s,[]):[])),R=(s,a,l={})=>{const y=h(i,s);let f=a;if(y){const d=y._f;d&&(!d.disabled&&F(n,s,mt(a,d)),f=_e(d.ref)&&B(a)?"":a,bt(d.ref)?[...d.ref.options].forEach(x=>x.selected=f.includes(x.value)):d.refs?be(d.ref)?d.refs.forEach(x=>{(!x.defaultChecked||!x.disabled)&&(Array.isArray(f)?x.checked=!!f.find(V=>V===x.value):x.checked=f===x.value||!!f)}):d.refs.forEach(x=>x.checked=x.value===f):Be(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||v.state.next({name:s,values:C(n)})))}(l.shouldDirty||l.shouldTouch)&&de(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ye(s)},H=(s,a,l)=>{for(const y in a){if(!a.hasOwnProperty(y))return;const f=a[y],d=s+"."+y,x=h(i,d);(c.array.has(s)||E(f)||x&&!x._f)&&!ie(f)?H(d,f,l):R(d,f,l)}},P=(s,a,l={})=>{const y=h(i,s),f=c.array.has(s),d=C(a);F(n,s,d),f?(v.array.next({name:s,values:C(n)}),(k.isDirty||k.dirtyFields||L.isDirty||L.dirtyFields)&&l.shouldDirty&&v.state.next({name:s,dirtyFields:le(o,n),isDirty:b(s,d)})):y&&!y._f&&!B(d)?H(s,d,l):R(s,d,l),lt(s,c)?v.state.next({...r,name:s,values:C(n)}):v.state.next({name:u.mount?s:void 0,values:C(n)})},ce=async s=>{u.mount=!0;const a=s.target;let l=a.name,y=!0;const f=h(i,l),d=w=>{y=Number.isNaN(w)||ie(w)&&isNaN(w.getTime())||te(w,h(n,l,w))},x=at(t.mode),V=at(t.reValidateMode);if(f){let w,T;const se=a.type?it(f._f):Wt(s),ee=s.type===Ze.BLUR||s.type===Ze.FOCUS_OUT,jt=!nr(f._f)&&!t.resolver&&!h(r.errors,l)&&!f._f.deps||ur(ee,h(r.touchedFields,l),r.isSubmitted,V,x),Ee=lt(l,c,ee);F(n,l,se),ee?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(s),D&&D(0)):f._f.onChange&&f._f.onChange(s);const Le=de(l,se,ee),Nt=!O(Le)||Ee;if(!ee&&v.state.next({name:l,type:s.type,values:C(n)}),jt)return(k.isValid||L.isValid)&&(t.mode==="onBlur"?ee&&Y():ee||Y()),Nt&&v.state.next({name:l,...Ee?{}:Le});if(!ee&&Ee&&v.state.next({...r}),t.resolver){const{errors:Je}=await re([l]);if(z([l]),d(se),y){const Ct=ot(r.errors,i,l),Ke=ot(Je,i,Ct.name||l);w=Ke.error,l=Ke.name,T=O(Je)}}else z([l],!0),w=(await dt(f,c.disabled,n,J,t.shouldUseNativeValidation))[l],z([l]),d(se),y&&(w?T=!1:(k.isValid||L.isValid)&&(T=await W(i,!0)));y&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&ye(f._f.deps),ve(l,T,w,Le))}},fe=(s,a)=>{if(h(r.errors,a)&&s.focus)return s.focus(),1},ye=async(s,a={})=>{let l,y;const f=xe(s);if(t.resolver){const d=await ae(A(s)?s:f);l=O(d),y=s?!f.some(x=>h(d,x)):l}else s?(y=(await Promise.all(f.map(async d=>{const x=h(i,d);return await W(x&&x._f?{[d]:x}:x)}))).every(Boolean),!(!y&&!r.isValid)&&Y()):y=l=await W(i);return v.state.next({...!q(s)||(k.isValid||L.isValid)&&l!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:l}:{},errors:r.errors}),a.shouldFocus&&!y&&ge(i,fe,s?f:c.mount),y},Pe=(s,a)=>{let l={...u.mount?n:o};return a&&(l=gt(a.dirtyFields?r.dirtyFields:r.touchedFields,l)),A(s)?l:q(s)?h(l,s):s.map(y=>h(l,y))},qe=(s,a)=>({invalid:!!h((a||r).errors,s),isDirty:!!h((a||r).dirtyFields,s),error:h((a||r).errors,s),isValidating:!!h(r.validatingFields,s),isTouched:!!h((a||r).touchedFields,s)}),kt=s=>{s&&xe(s).forEach(a=>S(r.errors,a)),v.state.next({errors:s?r.errors:{}})},ze=(s,a,l)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,f=h(r.errors,s)||{},{ref:d,message:x,type:V,...w}=f;F(r.errors,s,{...w,...a,ref:y}),v.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Ft=(s,a)=>$(s)?v.state.subscribe({next:l=>"values"in l&&s(m(void 0,a),l)}):m(s,a,!0),We=s=>v.state.subscribe({next:a=>{or(s.name,a.name,s.exact)&&lr(a,s.formState||k,Lt,s.reRenderRoot)&&s.callback({values:{...n},...r,...a,defaultValues:o})}}).unsubscribe,At=s=>(u.mount=!0,L={...L,...s.formState},We({...s,formState:{...ue,...s.formState}})),Ae=(s,a={})=>{for(const l of s?xe(s):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(S(i,l),S(n,l)),!a.keepError&&S(r.errors,l),!a.keepDirty&&S(r.dirtyFields,l),!a.keepTouched&&S(r.touchedFields,l),!a.keepIsValidating&&S(r.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&S(o,l);v.state.next({values:C(n)}),v.state.next({...r,...a.keepDirty?{isDirty:b()}:{}}),!a.keepIsValid&&Y()},He=({disabled:s,name:a})=>{if(Q(s)&&u.mount||s||c.disabled.has(a)){const f=c.disabled.has(a)!==!!s;s?c.disabled.add(a):c.disabled.delete(a),f&&u.mount&&!u.action&&Y()}},De=(s,a={})=>{let l=h(i,s);const y=Q(a.disabled)||Q(t.disabled);return F(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),c.mount.add(s),l?He({disabled:Q(a.disabled)?a.disabled:t.disabled,name:s}):j(s,!0,a.value),{...y?{disabled:a.disabled||t.disabled}:{},...t.progressive?{required:!!a.required,min:he(a.min),max:he(a.max),minLength:he(a.minLength),maxLength:he(a.maxLength),pattern:he(a.pattern)}:{},name:s,onChange:ce,onBlur:ce,ref:f=>{if(f){De(s,a),l=h(i,s);const d=A(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,x=er(d),V=l._f.refs||[];if(x?V.find(w=>w===d):d===l._f.ref)return;F(i,s,{_f:{...l._f,...x?{refs:[...V.filter(Ne),d,...Array.isArray(h(o,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),j(s,!1,void 0,d)}else l=h(i,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!($t(c.array,s)&&u.action)&&c.unMount.add(s)}}},Se=()=>t.shouldFocusError&&ge(i,fe,c.mount),Dt=s=>{Q(s)&&(v.state.next({disabled:s}),ge(i,(a,l)=>{const y=h(i,l);y&&(a.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(f=>{f.disabled=y._f.disabled||s}))},0,!1))},$e=(s,a)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=C(n);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:x}=await re();z(),r.errors=d,f=C(x)}else await W(i);if(c.disabled.size)for(const d of c.disabled)S(f,d);if(S(r.errors,"root"),O(r.errors)){v.state.next({errors:{}});try{await s(f,l)}catch(d){y=d}}else a&&await a({...r.errors},l),Se(),setTimeout(Se);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},St=(s,a={})=>{h(i,s)&&(A(a.defaultValue)?P(s,C(h(o,s))):(P(s,a.defaultValue),F(o,s,C(a.defaultValue))),a.keepTouched||S(r.touchedFields,s),a.keepDirty||(S(r.dirtyFields,s),r.isDirty=a.defaultValue?b(s,C(h(o,s))):b()),a.keepError||(S(r.errors,s),k.isValid&&Y()),v.state.next({...r}))},Ge=(s,a={})=>{const l=s?C(s):o,y=C(l),f=O(s),d=f?o:y;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues){const x=new Set([...c.mount,...Object.keys(le(o,n))]);for(const V of Array.from(x)){const w=h(r.dirtyFields,V),T=h(n,V),se=h(d,V);w&&!A(T)?F(d,V,T):!w&&!A(se)&&P(V,se)}}else{if(Te&&A(s))for(const x of c.mount){const V=h(i,x);if(V&&V._f){const w=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(_e(w)){const T=w.closest("form");if(T){T.reset();break}}}}if(a.keepFieldsRef)for(const x of c.mount)P(x,h(d,x));else i={}}n=t.shouldUnregister?a.keepDefaultValues?C(o):{}:C(d),v.array.next({values:{...d}}),v.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!k.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!t.shouldUnregister&&!O(d),u.watch=!!t.shouldUnregister,u.keepIsValid=!!a.keepIsValid,u.action=!1,a.keepErrors||(r.errors={}),v.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:f?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!te(s,o)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?le(o,n):r.dirtyFields:a.keepDefaultValues&&s?le(o,s):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Ye=(s,a)=>Ge($(s)?s(n):s,{...t.resetOptions,...a}),Et=(s,a={})=>{const l=h(i,s),y=l&&l._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&setTimeout(()=>{f.focus(),a.shouldSelect&&$(f.select)&&f.select()})}},Lt=s=>{r={...r,...s}},Qe={control:{register:De,unregister:Ae,getFieldState:qe,handleSubmit:$e,setError:ze,_subscribe:We,_runSchema:re,_updateIsValidating:z,_focusError:Se,_getWatch:m,_getDirty:b,_setValid:Y,_setFieldArray:p,_setDisabledField:He,_setErrors:X,_getFieldArray:N,_reset:Ge,_resetDefaultValues:()=>$(t.defaultValues)&&t.defaultValues().then(s=>{Ye(s,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:Dt,_subjects:v,_proxyFormState:k,get _fields(){return i},get _formValues(){return n},get _state(){return u},set _state(s){u=s},get _defaultValues(){return o},get _names(){return c},set _names(s){c=s},get _formState(){return r},get _options(){return t},set _options(s){t={...t,...s}}},subscribe:At,trigger:ye,register:De,handleSubmit:$e,watch:Ft,setValue:P,getValues:Pe,reset:Ye,resetField:St,clearErrors:kt,unregister:Ae,setError:ze,setFocus:Et,getFieldState:qe};return{...Qe,formControl:Qe}}function wt(e={}){const t=U.useRef(void 0),r=U.useRef(void 0),[i,o]=U.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=yr(e);t.current={...c,formState:i}}const n=t.current.control;return n._options=e,Jt(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),n._formState.isReady=!0,u},[n]),U.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),U.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),U.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),U.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),U.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==i.isDirty&&n._subjects.state.next({isDirty:u})}},[n,i.isDirty]),U.useEffect(()=>{var u;e.values&&!te(e.values,r.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((u=n._options.resetOptions)===null||u===void 0)&&u.keepIsValid||n._setValid(),r.current=e.values,o(c=>({...c}))):n._resetDefaultValues()},[n,e.values]),U.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),t.current.formState=U.useMemo(()=>Qt(i,n),[n,i]),t.current}function _t({className:e,type:t,...r}){return g.jsx("input",{type:t,"data-slot":"input",className:oe(`border-(--input-border) border rounded-lg h-11 w-full min-w-25 bg-transparent py-3 ps-3 pe-1
        text-h5 text-text outline-none caret-(--caret)`,"transition-colors duration-200 ease-in-out","placeholder:transition-colors placeholder:duration-200 placeholder:text-(--placeholder) placeholder:text-small placeholder:italic","hover:border-(--input-border-active) hover:placeholder:text-(--placeholder-active)","focus-visible:border-(--input-border-active) focus:placeholder:opacity-0","disabled:bg-grey-extra-light disabled:opacity-40 disabled:pointer-events-none disabled:cursor-not-allowed disabled:placeholder:opacity-0","aria-invalid:border-system-error",e),placeholder:r.placeholder?r.placeholder:"Teкст",...r})}const hr=Rt("text-text caret-(--caret) cursor-(--input-border-active) text-h5 font-display flex h-auto items-center justify-center gap-2 py-1.5 select-none [&>svg:not([class*='size-'])]:size-6 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5","block-end":"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5"}},defaultVariants:{align:"inline-start"}});function ct({disabled:e,className:t,...r}){return g.jsx("div",{"data-slot":"input-group",role:"group",className:oe("group/input-group relative flex w-full items-center border-(--input-border) border rounded-lg outline-none","h-11 min-w-50 has-[>textarea]:h-auto","hover:border-(--input-border-active) hover:placeholder:text-(--placeholder-active) hover:has-[>[data-slot=input-group-control]]:[&>div]:text-[var(--input-border-active)]","transition-colors duration-200 ease-in-out","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-(--input-border-active) has-[[data-slot=input-group-control]:focus-visible]:placeholder:opacity-0","has-[[data-slot][aria-invalid=true]]:border-system-error",`${e?" bg-grey-extra-light opacity-40 text-(--input-border) pointer-events-none cursor-not-allowed placeholder:opacity-0":""}`,"aria-invalid:border-system-error",t),...r})}function ft({className:e,align:t="inline-start",...r}){return g.jsx("div",{role:"group","data-slot":"input-group-addon","data-align":t,className:oe(hr({align:t}),"text-(--input-border) transition-colors duration-200 ease-in-out",e),onClick:i=>{i.target.closest("button")||i.currentTarget.parentElement?.querySelector("input")?.focus()},...r})}function xr({className:e,type:t="button",variant:r="ghost",size:i="icon-32",...o}){return g.jsx(we,{type:t,"data-size":i,variant:r,className:oe(Tt({size:i,variant:r}),"hover:text-text active:text-(--input-border)",e),...o})}function yt({className:e,...t}){return g.jsx(_t,{"data-slot":"input-group-control",className:oe("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",e),...t})}function ht(e){if(e.variant==="icon"){const{icon:t,iconPosition:r,invalid:i,disabled:o,className:n,...u}=e;return g.jsxs(ct,{disabled:o,"aria-invalid":i,className:n,children:[g.jsx(yt,{disabled:o,...u}),g.jsx(ft,{align:r,children:t})]})}if(e.variant==="button"){const{icon:t,iconPosition:r,onClick:i,invalid:o,disabled:n,className:u,...c}=e;return g.jsxs(ct,{disabled:n,"aria-invalid":o,className:u,children:[g.jsx(yt,{disabled:n,...c}),g.jsx(ft,{align:r??"inline-end",children:g.jsx(xr,{type:"button",onClick:i,"aria-label":e.buttonarialabel,...e.buttonProps,children:t})})]})}else return g.jsx(_t,{"aria-invalid":e.invalid,...e})}function gr({className:e,...t}){return g.jsx("textarea",{"data-slot":"textarea",className:oe(`border-(--input-border) border rounded-lg outline-none bg-transparent
        flex field-sizing-content min-h-15 w-full py-3 ps-3 pe-2
        text-h5 text-text caret-(--caret)
        transition-colors duration-200 ease-in-out
        placeholder:transition-colors placeholder:duration-200 placeholder:text-(--placeholder) placeholder:text-small placeholder:italic
        hover:border-(--input-border-active) hover:placeholder:text-(--placeholder-active)
        focus-visible:border-(--input-border-active) focus:placeholder:opacity-0
        aria-invalid:border-system-error
        disabled:bg-grey-extra-light disabled:opacity-40 disabled:text-(--input-border) disabled:pointer-events-none disabled:cursor-not-allowed disabled:placeholder:opacity-0`,"hide-resizer",e),placeholder:t.placeholder?t.placeholder:"Место для текста",...t})}const br=({defaultValue:e="",onSaveInfo:t,onDeleteInfo:r})=>{const{register:i,handleSubmit:o,reset:n}=wt({defaultValues:{info:e}}),u=()=>{r(),n({info:""})};return g.jsxs("form",{onSubmit:o(t),className:"flex flex-col gap-[20px]",children:[g.jsxs("label",{className:"flex flex-col gap-[3px]",children:[g.jsx("span",{className:"text-xxs text-text-grey-dark",children:"Текст"}),g.jsx(gr,{placeholder:"Введите текст...",...i("info"),className:"max-h-[244px]",style:{resize:"none",overflowWrap:"anywhere",wordBreak:"break-word",overflowY:"auto"}})]}),g.jsxs("div",{className:"flex gap-[12px] self-end",children:[g.jsx(we,{type:"button",onClick:u,label:"Удалить",variant:"secondary",size:"default",className:"w-[196px]"}),g.jsx(we,{type:"submit",label:"Сохранить",size:"default",className:"w-[196px]"})]})]})},Ce=({links:e,onAddLink:t,onRemoveLink:r})=>{const{register:i,handleSubmit:o,reset:n,formState:{errors:u},clearErrors:c}=wt(),D=_=>{t(_),n()};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:o(D),onBlur:_=>{_.currentTarget.contains(_.relatedTarget)||c()},noValidate:!0,className:"flex gap-[20px]",children:[g.jsxs("div",{className:"flex flex-col gap-[20px] grow",children:[g.jsxs("label",{className:"flex flex-col gap-[3px]",children:[g.jsx("span",{className:"text-xxs text-text-grey-dark",children:"Название"}),g.jsx(ht,{type:"text",variant:"text",placeholder:"Введите название","aria-invalid":!!u.title,...i("title",{required:"Введите название",minLength:{value:2,message:"Название должно содержать минимум 2 символа"},onChange:()=>{u.title&&c("title")}})}),u.title&&g.jsx("span",{className:"text-xxs text-text-error",children:u.title.message})]}),g.jsxs("label",{className:"flex flex-col gap-[3px]",children:[g.jsx("span",{className:"text-xxs text-text-grey-dark",children:"URL"}),g.jsx(ht,{type:"url",variant:"text",placeholder:"Вставьте ссылку","aria-invalid":!!u.url,...i("url",{required:"Введите URL",pattern:{value:/^https?:\/\/.+\..+/i,message:"Введите корректный URL (например, https://example.com)"},onChange:()=>{u.url&&c("url")}})}),u.url&&g.jsx("span",{className:"text-xxs text-text-error",children:u.url.message})]})]}),g.jsx(we,{type:"submit",label:"Загрузить",size:"default",className:"self-end w-[196px]"})]}),e.length>0&&g.jsx("div",{className:"flex gap-[20px] flex-wrap",children:e.map(_=>g.jsxs("div",{className:"flex gap-[21px] pl-[12px] pt-[10px] pb-[8px]",children:[g.jsx(It,{to:_.url,target:"_blank",rel:"noopener noreferrer",className:`text-button text-text pb-[2px] border-b 
                  border-yellow-accent-light 
                  hover:border-yellow-accent-dark
                  active:border-yellow-accent-dark active:border-b-[2px]`,children:_.title}),g.jsx("button",{type:"button",onClick:()=>r(_.id),"aria-label":"Удалить ссылку",className:"w-[24px] h-[24px] cursor-pointer",children:g.jsx(Ut,{className:"w-full h-full text-text"})})]},_.id))})]})},vr=()=>{const[e,t]=Ve.useState({organizationInfo:"",usefulLinks:[],faq:[],eventSchedule:[]}),r=u=>{t(c=>({...c,organizationInfo:u.info}))},i=()=>{t(u=>({...u,organizationInfo:""}))},o=u=>c=>{const D={...c,id:zt()};t(_=>({..._,[u]:[..._[u],D]}))},n=u=>c=>{t(D=>({...D,[u]:D[u].filter(_=>_.id!==c)}))};return g.jsxs("div",{className:"flex flex-col gap-[20px]",children:[g.jsx(me,{title:"Информация об организации",children:g.jsx(br,{defaultValue:e.organizationInfo,onSaveInfo:r,onDeleteInfo:i})}),g.jsx(me,{title:"Полезные ссылки",children:g.jsx(Ce,{links:e.usefulLinks,onAddLink:o("usefulLinks"),onRemoveLink:n("usefulLinks")})}),g.jsx(me,{title:"FAQ",children:g.jsx(Ce,{links:e.faq,onAddLink:o("faq"),onRemoveLink:n("faq")})}),g.jsx(me,{title:"Афиша Partner Relations",children:g.jsx(Ce,{links:e.eventSchedule,onAddLink:o("eventSchedule"),onRemoveLink:n("eventSchedule")})})]})},wr=vr;export{wr as Component};
