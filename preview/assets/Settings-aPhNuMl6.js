import{r as u,j as e}from"./index-B3fHSFhq.js";const E=({leftLabel:r,rightLabel:i,onToggle:s,className:x})=>{const[o,c]=u.useState("left"),d=b=>{c(b),s(b)},m=`
    flex
    flex-1
    items-center
    justify-center
    transition-[background-color,outline-color,border-color]
    duration-300
    ease-in-out
    relative
    text-text
    text-button
    bg-white
    border-1
    border-yellow-accent-light
    hover:border-yellow-light
    p-[10px_20px]
    cursor-pointer
  `,g=`
    bg-yellow-accent-light
    hover:bg-yellow-light
    hover:text-text-black-darker
    active:bg-yellow-accent-dark
    active:text-text-black-darker
  `,v=`
    absolute
    w-[calc(100%+1px)]
    h-[calc(100%+2px)]
    border-1
    border-transparent
    outline-2
    outline-transparent
    outline-offset-[-2px]
    hover:border-yellow-light
    active:border-yellow-accent-dark
    active:outline-yellow-accent-dark
    transition-[border-color,outline-color]
    duration-300
    ease-in-out
  `,h="rounded-tl-[8px] rounded-bl-[8px]",p="rounded-tr-[8px] rounded-br-[8px]";return e.jsxs("div",{className:`flex cursor-pointer h-full ${x}`,children:[e.jsxs("button",{type:"button",className:`
          border-r-0
          ${m}
          ${h}
          ${o==="left"&&g}
        `,onClick:()=>d("left"),children:[r,e.jsx("div",{className:`
          left-[-1px]
          ${v}
          ${h}
          ${o!=="left"&&p}
        `})]}),e.jsxs("button",{type:"button",className:`
          border-l-0
          ${m}
          ${p}
          ${o==="right"&&g}
        `,onClick:()=>d("right"),children:[i,e.jsx("div",{className:`
          left-0
          ${v}
          ${p}
          ${o!=="right"&&h}
        `})]})]})},A=({onChange:r,checked:i=!1,paleStyle:s=!0,className:x})=>{const o=()=>{r(!i)},c=s?"bg-yellow-light":"bg-yellow-accent-light",d=s?"bg-white":"bg-grey-extra-light",m=s?"border-yellow-accent-dark":"border-yellow-accent-light",g=s?"border-grey-blue-light":"border-grey-dark",v="outline-transparent",h=s?"outline-grey-blue-light":"outline-grey-dark",p="bg-white",b=s?"bg-grey-light":"bg-grey-dark",w="border-white",k=s?"border-white":"border-grey-extra-light";return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"checkbox",checked:i,className:"hidden",onChange:()=>{}}),e.jsx("div",{className:`
          w-[52px]
          h-[32px]
          rounded-[16px]
          relative
          transition-[background-color,border-color,outline-color]
          duration-300
          ease-in-out
          border-1
          outline-2
          outline-offset-[-2px]
          cursor-pointer
          ${i?`${c} ${m} ${v}`:`${d} ${g} ${h}`}
          ${x}
        `,onClick:o,children:e.jsx("span",{className:`
            absolute
            w-[24px]
            h-[24px]
            border-4
            rounded-full
            top-[3px]
            transition-[background-color,border-color,left]
            duration-300
            ease-in-out
            ${i?`${p} ${w}  left-[23px]`:`${b} ${k} left-[3px]`}
          `})})]})},S=({label:r,onClick:i,style:s="primary",type:x="button",className:o,children:c})=>{const d=s==="primary"&&`
        bg-yellow-accent-light
        hover:bg-yellow-light
        hover:text-text-black-darker
        active:bg-yellow-accent-dark
        active:text-text-black-darker
        disabled:bg-grey-extra-light
      `||"";return e.jsxs("button",{type:x,className:`
        border-1
        border-yellow-accent-light
        cursor-pointer
        text-text
        text-button
        rounded-[8px]
        h-full
        px-[20px]
        bg-white
        outline-2
        outline-transparent
        outline-offset-[-2px]
        transition-[background-color,border-color,outline-color,color]
        duration-300
        ease-in-out
        ${d}
        hover:border-yellow-light
        active:border-yellow-accent-dark
        active:outline-yellow-accent-dark
        disabled:cursor-default
        disabled:border-grey-extra-light
        disabled:outline-transparent
        disabled:text-text-grey-dark
        ${o}
      `,onClick:i,children:[r,c]})},I=({title:r,titleId:i,...s})=>u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"none","aria-labelledby":i,...s},r?u.createElement("title",{id:i},r):null,u.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"m6 11 10 10 10-10"})),j=[{id:0,name:"Администратор",description:"Высший уровень доступа"},{id:1,name:"Менеджер 1 звена",description:"Полный уровень доступа"},{id:2,name:"Менеджер 2 звена",description:"Средний уровень доступа"},{id:3,name:"Менеджер 3 звена",description:"Низкий уровень доступа"}],F=[{id:0,name:"Заявки"},{id:1,name:"Коробки"},{id:2,name:"Презентации"},{id:3,name:"Спецпроекты"},{id:4,name:"Аналитика"},{id:5,name:"Другое"}],N=[{id:0,groupId:0,name:"Просмотр таблицы заявок"},{id:1,groupId:0,name:"Редактирование таблицы заявок"},{id:2,groupId:0,name:"Удаление таблицы заявок"},{id:3,groupId:1,name:"Создание коробок"},{id:4,groupId:1,name:"Редактирование коробок"},{id:5,groupId:1,name:"Удаление коробок"},{id:6,groupId:2,name:"Просмотр презентаций"},{id:7,groupId:2,name:"Редактирование презентаций"},{id:8,groupId:2,name:"Удаление презентаций,"},{id:9,groupId:3,name:"Просмотр спецпроектов"},{id:10,groupId:3,name:"Редактирование спецпроектов"},{id:11,groupId:3,name:"Удаление спецпроектов,"},{id:12,groupId:4,name:"Просмотр"},{id:13,groupId:4,name:"Скачивание"},{id:14,groupId:5,name:"Афиша"},{id:15,groupId:5,name:"Раздел о нас"},{id:16,groupId:5,name:"FAQ"}],T=[{id:0,name:"Поле для приветствия"},{id:1,name:"Текст для подтверждения записи"},{id:2,name:"Напоминание №1 о мероприятии (за 1 неделю)"},{id:3,name:"Напоминание №2 о мероприятии (за 24 часа)"},{id:4,name:"Текст сообщения при отмене бронирования"},{id:5,name:"Благодарность по завершению мероприятия"},{id:6,name:"Текст системной ошибки"}],C=[{id:0,value:""},{id:1,value:""},{id:2,value:""},{id:3,value:""},{id:4,value:""},{id:5,value:""},{id:6,value:""}],R=[{accountId:0,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!0},{id:3,value:!0},{id:4,value:!0},{id:5,value:!0},{id:6,value:!0},{id:7,value:!0},{id:8,value:!0},{id:9,value:!0},{id:10,value:!0},{id:11,value:!0},{id:12,value:!0},{id:13,value:!0},{id:14,value:!0},{id:15,value:!0},{id:16,value:!0}]},{accountId:1,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!1},{id:3,value:!0},{id:4,value:!0},{id:5,value:!1},{id:6,value:!0},{id:7,value:!0},{id:8,value:!1},{id:9,value:!0},{id:10,value:!0},{id:11,value:!1},{id:12,value:!0},{id:13,value:!1},{id:14,value:!0},{id:15,value:!0},{id:16,value:!0}]},{accountId:2,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!1},{id:3,value:!0},{id:4,value:!0},{id:5,value:!1},{id:6,value:!0},{id:7,value:!0},{id:8,value:!1},{id:9,value:!0},{id:10,value:!0},{id:11,value:!1},{id:12,value:!1},{id:13,value:!1},{id:14,value:!0},{id:15,value:!1},{id:16,value:!0}]},{accountId:3,accessRights:[{id:0,value:!0},{id:1,value:!1},{id:2,value:!1},{id:3,value:!0},{id:4,value:!1},{id:5,value:!1},{id:6,value:!0},{id:7,value:!1},{id:8,value:!1},{id:9,value:!0},{id:10,value:!1},{id:11,value:!1},{id:12,value:!1},{id:13,value:!1},{id:14,value:!1},{id:15,value:!1},{id:16,value:!1}]}],V=()=>{const[r,i]=u.useState("roleSelection"),[s,x]=u.useState(0),[o,c]=u.useState([]),d=u.useRef([]),m=t=>{t==="left"&&r!=="textsSetup"||i(t==="left"?"roleSelection":"textsSetup")},g=t=>{x(t),$(t),i("accessSetup")},v=()=>{i("roleSelection")},h=()=>{const t=d.current.map(l=>l.value||"");C.forEach(l=>{t[l.id]?l.value=t[l.id]:l.value=""})},p=()=>{d.current.forEach((t,l)=>{const a=C.find(n=>n.id===l)?.value;a?t.value=a:t.value=""})},b=(t,l)=>{R.find(a=>a.accountId===t)?.accessRights.forEach(a=>{l[a.id]===!0||l[a.id]===!1?a.value=l[a.id]:a.value=!1})},w=()=>{r==="textsSetup"?h():b(s,o)},k=()=>{r==="textsSetup"?p():$(s)},$=t=>{const l=new Array(N.length).fill(!1);N.forEach(a=>{const n=a.id,y=R.find(f=>f.accountId===t)?.accessRights.find(f=>f.id===n)?.value;l[n]=y}),c(l)},B=(t,l)=>{c(a=>[...a.slice(0,t),l,...a.slice(t+1)])};return e.jsxs("main",{className:"bg-grey-extra-light min-h-screen w-full flex flex-col",children:[e.jsx("h2",{className:"bg-white text-text-black-dark text-h2 m-[20px] mb-0 p-[18px_20px] rounded-md",children:"Системные настройки"}),e.jsxs("div",{className:`
          ${r!=="accessSetup"?"bg-white":""}
          rounded-[8px]
          h-full
          m-[20px]
          flex-1
          text-text
        `,children:[e.jsxs("div",{className:`
            flex
            flex-wrap
            min-h-[46px]
            gap-[20px]
            justify-between
            ${r!=="accessSetup"&&"m-[20px]"}
          `,children:[e.jsx(E,{className:"w-[562px]! mr-[20px] min-w-[488px]",leftLabel:"Настройка уровня доступа",rightLabel:"Настройка текстов",onToggle:m}),r!=="roleSelection"&&e.jsxs("div",{children:[e.jsx(S,{label:"Отменить",style:"secondary",onClick:k,className:"w-[168px] mr-[20px] min-h-[46px]"}),e.jsx(S,{label:"Сохранить",onClick:w,className:"w-[168px] min-h-[46px]"})]})]}),r==="roleSelection"&&e.jsx("div",{className:"mt-[32px]",children:j.map((t,l)=>e.jsxs("button",{type:"button",className:`
                  h-[101px]
                  w-[calc(100%-20px*2)]
                  flex
                  p-[20px]
                  m-[20px]
                  border-1
                  border-yellow-accent-light
                  rounded-[8px]
                  justify-between
                  items-center
                  hover:border-yellow-light
                  active:border-yellow-accent-dark
                  cursor-pointer
                `,onClick:()=>g(t.id),children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-h3 text-text mt-[-3px]",children:t.name}),e.jsx("span",{className:"text-h4sb text-text-grey-dark mt-[-3px]",children:t.description})]}),e.jsx(I,{className:"w-[23px] text-text-grey-dark mr-[9px]"})]},l))}),r==="textsSetup"&&T.map((t,l)=>e.jsxs("div",{className:"flex flex-col m-[16px_20px]",children:[e.jsx("span",{className:"text-text-grey-dark text-xxs pb-[2px]",children:t.name}),e.jsx("style",{children:`
                  textarea::placeholder {
                    transition: color 0.3s ease-in-out;
                  }
                `}),e.jsx("textarea",{ref:a=>{d.current[t.id]=a},placeholder:"Место для текста",className:`
                  h-[60px]
                  resize-none
                  outline-0
                  border-1
                  border-grey-dark
                  text-text
                  text-h5
                  rounded-[8px]
                  p-[10px_12px]
                  transition-[border-color]
                  duration-300
                  ease-in-out
                  hover:border-grey-dark
                  active:border-grey-dark
                  placeholder-shown:border-grey-light
                  placeholder:italic
                  placeholder:text-small
                  placeholder:text-text-grey-light
                  placeholder:border-grey-light
                  hover:placeholder:text-text-grey-dark
                `,defaultValue:C.find(a=>a.id===l)?.value})]},l)),r==="accessSetup"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:`
                h-[101px]
                w-[100%]
                flex
                p-[20px]
                my-[20px_8px]
                border-1
                border-yellow-accent-light
                rounded-[8px]
                justify-between
                items-center
                hover:border-yellow-light
                active:border-yellow-accent-dark
                bg-white
                cursor-pointer
              `,onClick:v,children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-h3 text-text mt-[-3px]",children:j.find(t=>t.id===s)?.name}),e.jsx("span",{className:"text-h4sb text-text-grey-dark mt-[-3px]",children:j.find(t=>t.id===s)?.description})]}),e.jsx(I,{className:"w-[23px] text-text-grey-dark mr-[9px] rotate-180"})]}),e.jsx("div",{className:"bg-white rounded-[8px] flex-1 p-[20px]",children:e.jsx("div",{className:"flex flex-col flex-wrap content-start [@media(min-width:1220px)]:max-h-[616px]",children:F.map((t,l)=>{let a;switch(l){case 1:a="mb-[12px]";break;case 4:a="mb-[40px]";break;default:a="mb-[20px]"}return e.jsxs("div",{className:`${a} min-w-[462px] pl-[20px] `,children:[e.jsx("h5",{className:"text-h5 h-[40px] mb-[12px] flex items-center",children:t.name}),e.jsx("div",{className:"flex flex-col gap-[8px]",children:N.filter(n=>n.groupId===t.id).map((n,y)=>e.jsxs("div",{className:"h-[40px] ml-[40px] flex items-center gap-[12px]",children:[e.jsx(A,{checked:o[n.id],onChange:f=>B(n.id,f)}),e.jsx("span",{className:"text-h5",children:n.name})]},y))})]},l)})})})]})]})]})},_=V;export{_ as Component};
