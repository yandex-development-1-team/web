import{r as f,j as e,S}from"./index-mCqT8vsy.js";const A=({leftLabel:s,rightLabel:d,onToggle:r,className:u})=>{const[i,c]=f.useState("left"),o=g=>{c(g),r(g)},p=`
    flex
    flex-1
    items-center
    justify-center
    transition-[background-color,outline-color,border-color]
    duration-300
    ease-in-out
    relative
    text-text
    text-button
    bg-white
    border-1
    border-yellow-accent-light
    hover:border-yellow-light
    p-[10px_20px]
    cursor-pointer
  `,v=`
    bg-yellow-accent-light
    hover:bg-yellow-light
    hover:text-text-black-darker
    active:bg-yellow-accent-dark
    active:text-text-black-darker
  `,m=`
    absolute
    w-[calc(100%+1px)]
    h-[calc(100%+2px)]
    border-1
    border-transparent
    outline-2
    outline-transparent
    outline-offset-[-2px]
    hover:border-yellow-light
    active:border-yellow-accent-dark
    active:outline-yellow-accent-dark
    transition-[border-color,outline-color]
    duration-300
    ease-in-out
  `,x="rounded-tl-[8px] rounded-bl-[8px]",h="rounded-tr-[8px] rounded-br-[8px]";return e.jsxs("div",{className:`flex cursor-pointer h-full ${u}`,children:[e.jsxs("button",{type:"button",className:`
          border-r-0
          ${p}
          ${x}
          ${i==="left"&&v}
        `,onClick:()=>o("left"),children:[s,e.jsx("div",{className:`
          left-[-1px]
          ${m}
          ${x}
          ${i!=="left"&&h}
        `})]}),e.jsxs("button",{type:"button",className:`
          border-l-0
          ${p}
          ${h}
          ${i==="right"&&v}
        `,onClick:()=>o("right"),children:[d,e.jsx("div",{className:`
          left-0
          ${m}
          ${h}
          ${i!=="right"&&x}
        `})]})]})},F=({onChange:s,checked:d=!1,paleStyle:r=!0,className:u})=>{const i=()=>{s(!d)},c=r?"bg-yellow-light":"bg-yellow-accent-light",o=r?"bg-white":"bg-grey-extra-light",p=r?"border-yellow-accent-dark":"border-yellow-accent-light",v=r?"border-grey-blue-light":"border-grey-dark",m="outline-transparent",x=r?"outline-grey-blue-light":"outline-grey-dark",h="bg-white",g=r?"bg-grey-light":"bg-grey-dark",w="border-white",k=r?"border-white":"border-grey-extra-light";return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"checkbox",checked:d,className:"hidden",onChange:()=>{}}),e.jsx("div",{className:`
          w-[52px]
          h-[32px]
          rounded-[16px]
          relative
          transition-[background-color,border-color,outline-color]
          duration-300
          ease-in-out
          border-1
          outline-2
          outline-offset-[-2px]
          cursor-pointer
          ${d?`${c} ${p} ${m}`:`${o} ${v} ${x}`}
          ${u}
        `,onClick:i,children:e.jsx("span",{className:`
            absolute
            w-[24px]
            h-[24px]
            border-4
            rounded-full
            top-[3px]
            transition-[background-color,border-color,left]
            duration-300
            ease-in-out
            ${d?`${h} ${w}  left-[23px]`:`${g} ${k} left-[3px]`}
          `})})]})},I=({label:s,onClick:d,style:r="primary",type:u="button",className:i,children:c})=>{const o=r==="primary"&&`
        bg-yellow-accent-light
        hover:bg-yellow-light
        hover:text-text-black-darker
        active:bg-yellow-accent-dark
        active:text-text-black-darker
        disabled:bg-grey-extra-light
      `||"";return e.jsxs("button",{type:u,className:`
        border-1
        border-yellow-accent-light
        cursor-pointer
        text-text
        text-button
        rounded-[8px]
        h-full
        px-[20px]
        bg-white
        outline-2
        outline-transparent
        outline-offset-[-2px]
        transition-[background-color,border-color,outline-color,color]
        duration-300
        ease-in-out
        ${o}
        hover:border-yellow-light
        active:border-yellow-accent-dark
        active:outline-yellow-accent-dark
        disabled:cursor-default
        disabled:border-grey-extra-light
        disabled:outline-transparent
        disabled:text-text-grey-dark
        ${i}
      `,onClick:d,children:[s,c]})},j=[{id:0,name:"Администратор",description:"Высший уровень доступа"},{id:1,name:"Менеджер 1 звена",description:"Полный уровень доступа"},{id:2,name:"Менеджер 2 звена",description:"Средний уровень доступа"},{id:3,name:"Менеджер 3 звена",description:"Низкий уровень доступа"}],E=[{id:0,name:"Заявки"},{id:1,name:"Коробки"},{id:2,name:"Презентации"},{id:3,name:"Спецпроекты"},{id:4,name:"Аналитика"},{id:5,name:"Другое"}],N=[{id:0,groupId:0,name:"Просмотр таблицы заявок"},{id:1,groupId:0,name:"Редактирование таблицы заявок"},{id:2,groupId:0,name:"Удаление таблицы заявок"},{id:3,groupId:1,name:"Создание коробок"},{id:4,groupId:1,name:"Редактирование коробок"},{id:5,groupId:1,name:"Удаление коробок"},{id:6,groupId:2,name:"Просмотр презентаций"},{id:7,groupId:2,name:"Редактирование презентаций"},{id:8,groupId:2,name:"Удаление презентаций,"},{id:9,groupId:3,name:"Просмотр спецпроектов"},{id:10,groupId:3,name:"Редактирование спецпроектов"},{id:11,groupId:3,name:"Удаление спецпроектов,"},{id:12,groupId:4,name:"Просмотр"},{id:13,groupId:4,name:"Скачивание"},{id:14,groupId:5,name:"Афиша"},{id:15,groupId:5,name:"Раздел о нас"},{id:16,groupId:5,name:"FAQ"}],T=[{id:0,name:"Поле для приветствия"},{id:1,name:"Текст для подтверждения записи"},{id:2,name:"Напоминание №1 о мероприятии (за 1 неделю)"},{id:3,name:"Напоминание №2 о мероприятии (за 24 часа)"},{id:4,name:"Текст сообщения при отмене бронирования"},{id:5,name:"Благодарность по завершению мероприятия"},{id:6,name:"Текст системной ошибки"}],C=[{id:0,value:""},{id:1,value:""},{id:2,value:""},{id:3,value:""},{id:4,value:""},{id:5,value:""},{id:6,value:""}],R=[{accountId:0,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!0},{id:3,value:!0},{id:4,value:!0},{id:5,value:!0},{id:6,value:!0},{id:7,value:!0},{id:8,value:!0},{id:9,value:!0},{id:10,value:!0},{id:11,value:!0},{id:12,value:!0},{id:13,value:!0},{id:14,value:!0},{id:15,value:!0},{id:16,value:!0}]},{accountId:1,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!1},{id:3,value:!0},{id:4,value:!0},{id:5,value:!1},{id:6,value:!0},{id:7,value:!0},{id:8,value:!1},{id:9,value:!0},{id:10,value:!0},{id:11,value:!1},{id:12,value:!0},{id:13,value:!1},{id:14,value:!0},{id:15,value:!0},{id:16,value:!0}]},{accountId:2,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!1},{id:3,value:!0},{id:4,value:!0},{id:5,value:!1},{id:6,value:!0},{id:7,value:!0},{id:8,value:!1},{id:9,value:!0},{id:10,value:!0},{id:11,value:!1},{id:12,value:!1},{id:13,value:!1},{id:14,value:!0},{id:15,value:!1},{id:16,value:!0}]},{accountId:3,accessRights:[{id:0,value:!0},{id:1,value:!1},{id:2,value:!1},{id:3,value:!0},{id:4,value:!1},{id:5,value:!1},{id:6,value:!0},{id:7,value:!1},{id:8,value:!1},{id:9,value:!0},{id:10,value:!1},{id:11,value:!1},{id:12,value:!1},{id:13,value:!1},{id:14,value:!1},{id:15,value:!1},{id:16,value:!1}]}],V=()=>{const[s,d]=f.useState("roleSelection"),[r,u]=f.useState(0),[i,c]=f.useState([]),o=f.useRef([]),p=t=>{t==="left"&&s!=="textsSetup"||d(t==="left"?"roleSelection":"textsSetup")},v=t=>{u(t),$(t),d("accessSetup")},m=()=>{d("roleSelection")},x=()=>{const t=o.current.map(l=>l.value||"");C.forEach(l=>{t[l.id]?l.value=t[l.id]:l.value=""})},h=()=>{o.current.forEach((t,l)=>{const a=C.find(n=>n.id===l)?.value;a?t.value=a:t.value=""})},g=(t,l)=>{R.find(a=>a.accountId===t)?.accessRights.forEach(a=>{l[a.id]===!0||l[a.id]===!1?a.value=l[a.id]:a.value=!1})},w=()=>{s==="textsSetup"?x():g(r,i)},k=()=>{s==="textsSetup"?h():$(r)},$=t=>{const l=new Array(N.length).fill(!1);N.forEach(a=>{const n=a.id,y=R.find(b=>b.accountId===t)?.accessRights.find(b=>b.id===n)?.value;l[n]=y}),c(l)},B=(t,l)=>{c(a=>[...a.slice(0,t),l,...a.slice(t+1)])};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"bg-white text-text-black-dark text-h2 m-[20px] mb-0 p-[18px_20px] rounded-md",children:"Системные настройки"}),e.jsxs("div",{className:`
          ${s!=="accessSetup"?"bg-white":""}
          rounded-[8px]
          h-full
          m-[20px]
          flex-1
          text-text
        `,children:[e.jsxs("div",{className:`
            flex
            flex-wrap
            min-h-[46px]
            gap-[20px]
            justify-between
            ${s!=="accessSetup"&&"m-[20px]"}
          `,children:[e.jsx(A,{className:"w-[562px]! mr-[20px] min-w-[488px]",leftLabel:"Настройка уровня доступа",rightLabel:"Настройка текстов",onToggle:p}),s!=="roleSelection"&&e.jsxs("div",{children:[e.jsx(I,{label:"Отменить",style:"secondary",onClick:k,className:"w-[168px] mr-[20px] min-h-[46px]"}),e.jsx(I,{label:"Сохранить",onClick:w,className:"w-[168px] min-h-[46px]"})]})]}),s==="roleSelection"&&e.jsx("div",{className:"mt-[32px]",children:j.map((t,l)=>e.jsxs("button",{type:"button",className:`
                  h-[101px]
                  w-[calc(100%-20px*2)]
                  flex
                  p-[20px]
                  m-[20px]
                  border-1
                  border-yellow-accent-light
                  rounded-[8px]
                  justify-between
                  items-center
                  hover:border-yellow-light
                  active:border-yellow-accent-dark
                  cursor-pointer
                `,onClick:()=>v(t.id),children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-h3 text-text mt-[-3px]",children:t.name}),e.jsx("span",{className:"text-h4sb text-text-grey-dark mt-[-3px]",children:t.description})]}),e.jsx(S,{className:"w-[23px] text-text-grey-dark mr-[9px]"})]},l))}),s==="textsSetup"&&T.map((t,l)=>e.jsxs("div",{className:"flex flex-col m-[16px_20px]",children:[e.jsx("span",{className:"text-text-grey-dark text-xxs pb-[2px]",children:t.name}),e.jsx("style",{children:`
                  textarea::placeholder {
                    transition: color 0.3s ease-in-out;
                  }
                `}),e.jsx("textarea",{ref:a=>{o.current[t.id]=a},placeholder:"Место для текста",className:`
                  h-[60px]
                  resize-none
                  outline-0
                  border-1
                  border-grey-dark
                  text-text
                  text-h5
                  rounded-[8px]
                  p-[10px_12px]
                  transition-[border-color]
                  duration-300
                  ease-in-out
                  hover:border-grey-dark
                  active:border-grey-dark
                  placeholder-shown:border-grey-light
                  placeholder:italic
                  placeholder:text-small
                  placeholder:text-text-grey-light
                  placeholder:border-grey-light
                  hover:placeholder:text-text-grey-dark
                `,defaultValue:C.find(a=>a.id===l)?.value})]},l)),s==="accessSetup"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:`
                h-[101px]
                w-[100%]
                flex
                p-[20px]
                my-[20px_8px]
                border-1
                border-yellow-accent-light
                rounded-[8px]
                justify-between
                items-center
                hover:border-yellow-light
                active:border-yellow-accent-dark
                bg-white
                cursor-pointer
              `,onClick:m,children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-h3 text-text mt-[-3px]",children:j.find(t=>t.id===r)?.name}),e.jsx("span",{className:"text-h4sb text-text-grey-dark mt-[-3px]",children:j.find(t=>t.id===r)?.description})]}),e.jsx(S,{className:"w-[23px] text-text-grey-dark mr-[9px] rotate-180"})]}),e.jsx("div",{className:"bg-white rounded-[8px] flex-1 p-[20px]",children:e.jsx("div",{className:"flex flex-col flex-wrap content-start [@media(min-width:1220px)]:max-h-[616px]",children:E.map((t,l)=>{let a;switch(l){case 1:a="mb-[12px]";break;case 4:a="mb-[40px]";break;default:a="mb-[20px]"}return e.jsxs("div",{className:`${a} min-w-[462px] pl-[20px] `,children:[e.jsx("h5",{className:"text-h5 h-[40px] mb-[12px] flex items-center",children:t.name}),e.jsx("div",{className:"flex flex-col gap-[8px]",children:N.filter(n=>n.groupId===t.id).map((n,y)=>e.jsxs("div",{className:"h-[40px] ml-[40px] flex items-center gap-[12px]",children:[e.jsx(F,{checked:i[n.id],onChange:b=>B(n.id,b)}),e.jsx("span",{className:"text-h5",children:n.name})]},y))})]},l)})})})]})]})]})},_=V;export{_ as Component};
