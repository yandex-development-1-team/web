import{r as b,j as e,a as S}from"./index-CX04h1SF.js";import{B as I}from"./Button-CNSci7Kb.js";const A=({leftLabel:s,rightLabel:d,onToggle:r,className:g})=>{const[o,x]=b.useState("left"),n=v=>{x(v),r(v)},h=`
    flex
    flex-1
    items-center
    justify-center
    transition-[background-color,outline-color,border-color]
    duration-300
    ease-in-out
    relative
    text-text
    text-button
    bg-white
    border-1
    border-yellow-accent-light
    hover:border-yellow-light
    p-[10px_20px]
    cursor-pointer
  `,p=`
    bg-yellow-accent-light
    hover:bg-yellow-light
    hover:text-text-black-darker
    active:bg-yellow-accent-dark
    active:text-text-black-darker
  `,m=`
    absolute
    w-[calc(100%+1px)]
    h-[calc(100%+2px)]
    border-1
    border-transparent
    outline-2
    outline-transparent
    outline-offset-[-2px]
    hover:border-yellow-light
    active:border-yellow-accent-dark
    active:outline-yellow-accent-dark
    transition-[border-color,outline-color]
    duration-300
    ease-in-out
  `,c="rounded-tl-[8px] rounded-bl-[8px]",u="rounded-tr-[8px] rounded-br-[8px]";return e.jsxs("div",{className:`flex cursor-pointer h-full ${g}`,children:[e.jsxs("button",{type:"button",className:`
          border-r-0
          ${h}
          ${c}
          ${o==="left"&&p}
        `,onClick:()=>n("left"),children:[s,e.jsx("div",{className:`
          left-[-1px]
          ${m}
          ${c}
          ${o!=="left"&&u}
        `})]}),e.jsxs("button",{type:"button",className:`
          border-l-0
          ${h}
          ${u}
          ${o==="right"&&p}
        `,onClick:()=>n("right"),children:[d,e.jsx("div",{className:`
          left-0
          ${m}
          ${u}
          ${o!=="right"&&c}
        `})]})]})},F=({onChange:s,checked:d=!1,paleStyle:r=!0,className:g})=>{const o=()=>{s(!d)},x=r?"bg-yellow-light":"bg-yellow-accent-light",n=r?"bg-white":"bg-grey-extra-light",h=r?"border-yellow-accent-dark":"border-yellow-accent-light",p=r?"border-grey-blue-light":"border-grey-dark",m="outline-transparent",c=r?"outline-grey-blue-light":"outline-grey-dark",u="bg-white",v=r?"bg-grey-light":"bg-grey-dark",w="border-white",k=r?"border-white":"border-grey-extra-light";return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"checkbox",checked:d,className:"hidden",onChange:()=>{}}),e.jsx("div",{className:`
          w-[52px]
          h-[32px]
          rounded-[16px]
          relative
          transition-[background-color,border-color,outline-color]
          duration-300
          ease-in-out
          border-1
          outline-2
          outline-offset-[-2px]
          cursor-pointer
          ${d?`${x} ${h} ${m}`:`${n} ${p} ${c}`}
          ${g}
        `,onClick:o,children:e.jsx("span",{className:`
            absolute
            w-[24px]
            h-[24px]
            border-4
            rounded-full
            top-[3px]
            transition-[background-color,border-color,left]
            duration-300
            ease-in-out
            ${d?`${u} ${w}  left-[23px]`:`${v} ${k} left-[3px]`}
          `})})]})},y=[{id:0,name:"Администратор",description:"Высший уровень доступа"},{id:1,name:"Менеджер 1 звена",description:"Полный уровень доступа"},{id:2,name:"Менеджер 2 звена",description:"Средний уровень доступа"},{id:3,name:"Менеджер 3 звена",description:"Низкий уровень доступа"}],E=[{id:0,name:"Заявки"},{id:1,name:"Коробки"},{id:2,name:"Презентации"},{id:3,name:"Спецпроекты"},{id:4,name:"Аналитика"},{id:5,name:"Другое"}],N=[{id:0,groupId:0,name:"Просмотр таблицы заявок"},{id:1,groupId:0,name:"Редактирование таблицы заявок"},{id:2,groupId:0,name:"Удаление таблицы заявок"},{id:3,groupId:1,name:"Создание коробок"},{id:4,groupId:1,name:"Редактирование коробок"},{id:5,groupId:1,name:"Удаление коробок"},{id:6,groupId:2,name:"Просмотр презентаций"},{id:7,groupId:2,name:"Редактирование презентаций"},{id:8,groupId:2,name:"Удаление презентаций,"},{id:9,groupId:3,name:"Просмотр спецпроектов"},{id:10,groupId:3,name:"Редактирование спецпроектов"},{id:11,groupId:3,name:"Удаление спецпроектов,"},{id:12,groupId:4,name:"Просмотр"},{id:13,groupId:4,name:"Скачивание"},{id:14,groupId:5,name:"Афиша"},{id:15,groupId:5,name:"Раздел о нас"},{id:16,groupId:5,name:"FAQ"}],T=[{id:0,name:"Поле для приветствия"},{id:1,name:"Текст для подтверждения записи"},{id:2,name:"Напоминание №1 о мероприятии (за 1 неделю)"},{id:3,name:"Напоминание №2 о мероприятии (за 24 часа)"},{id:4,name:"Текст сообщения при отмене бронирования"},{id:5,name:"Благодарность по завершению мероприятия"},{id:6,name:"Текст системной ошибки"}],C=[{id:0,value:""},{id:1,value:""},{id:2,value:""},{id:3,value:""},{id:4,value:""},{id:5,value:""},{id:6,value:""}],R=[{accountId:0,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!0},{id:3,value:!0},{id:4,value:!0},{id:5,value:!0},{id:6,value:!0},{id:7,value:!0},{id:8,value:!0},{id:9,value:!0},{id:10,value:!0},{id:11,value:!0},{id:12,value:!0},{id:13,value:!0},{id:14,value:!0},{id:15,value:!0},{id:16,value:!0}]},{accountId:1,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!1},{id:3,value:!0},{id:4,value:!0},{id:5,value:!1},{id:6,value:!0},{id:7,value:!0},{id:8,value:!1},{id:9,value:!0},{id:10,value:!0},{id:11,value:!1},{id:12,value:!0},{id:13,value:!1},{id:14,value:!0},{id:15,value:!0},{id:16,value:!0}]},{accountId:2,accessRights:[{id:0,value:!0},{id:1,value:!0},{id:2,value:!1},{id:3,value:!0},{id:4,value:!0},{id:5,value:!1},{id:6,value:!0},{id:7,value:!0},{id:8,value:!1},{id:9,value:!0},{id:10,value:!0},{id:11,value:!1},{id:12,value:!1},{id:13,value:!1},{id:14,value:!0},{id:15,value:!1},{id:16,value:!0}]},{accountId:3,accessRights:[{id:0,value:!0},{id:1,value:!1},{id:2,value:!1},{id:3,value:!0},{id:4,value:!1},{id:5,value:!1},{id:6,value:!0},{id:7,value:!1},{id:8,value:!1},{id:9,value:!0},{id:10,value:!1},{id:11,value:!1},{id:12,value:!1},{id:13,value:!1},{id:14,value:!1},{id:15,value:!1},{id:16,value:!1}]}],V=()=>{const[s,d]=b.useState("roleSelection"),[r,g]=b.useState(0),[o,x]=b.useState([]),n=b.useRef([]),h=t=>{t==="left"&&s!=="textsSetup"||d(t==="left"?"roleSelection":"textsSetup")},p=t=>{g(t),$(t),d("accessSetup")},m=()=>{d("roleSelection")},c=()=>{const t=n.current.map(a=>a.value||"");C.forEach(a=>{t[a.id]?a.value=t[a.id]:a.value=""})},u=()=>{n.current.forEach((t,a)=>{const l=C.find(i=>i.id===a)?.value;l?t.value=l:t.value=""})},v=(t,a)=>{R.find(l=>l.accountId===t)?.accessRights.forEach(l=>{a[l.id]===!0||a[l.id]===!1?l.value=a[l.id]:l.value=!1})},w=()=>{s==="textsSetup"?c():v(r,o)},k=()=>{s==="textsSetup"?u():$(r)},$=t=>{const a=new Array(N.length).fill(!1);N.forEach(l=>{const i=l.id,j=R.find(f=>f.accountId===t)?.accessRights.find(f=>f.id===i)?.value;a[i]=j}),x(a)},B=(t,a)=>{x(l=>[...l.slice(0,t),a,...l.slice(t+1)])};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"bg-white text-text-black-dark text-h2 p-[18px_20px] rounded-md",children:"Системные настройки"}),e.jsxs("div",{className:`
          ${s!=="accessSetup"?"bg-white":""}
          rounded-[8px]
          h-full
          my-[20px]
          flex-1
          text-text
        `,children:[e.jsxs("div",{className:`
            flex
            flex-wrap
            min-h-[46px]
            gap-[20px]
            justify-between
            ${s!=="accessSetup"&&"m-[20px]"}
          `,children:[e.jsx(A,{className:"w-[562px]! mr-[20px] min-w-[488px]",leftLabel:"Настройка уровня доступа",rightLabel:"Настройка текстов",onToggle:h}),s!=="roleSelection"&&e.jsxs("div",{children:[e.jsx(I,{label:"Отменить",variant:"secondary",onClick:k,className:"w-[168px] mr-[20px] min-h-[46px]"}),e.jsx(I,{label:"Сохранить",onClick:w,className:"w-[168px] min-h-[46px]"})]})]}),s==="roleSelection"&&e.jsx("div",{className:"mt-[32px]",children:y.map((t,a)=>e.jsxs("button",{type:"button",className:`
                  h-[101px]
                  w-[calc(100%-20px*2)]
                  flex
                  p-[20px]
                  m-[20px]
                  border-1
                  border-yellow-accent-light
                  rounded-[8px]
                  justify-between
                  items-center
                  hover:border-yellow-light
                  active:border-yellow-accent-dark
                  cursor-pointer
                `,onClick:()=>p(t.id),children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-h3 text-text mt-[-3px]",children:t.name}),e.jsx("span",{className:"text-h4sb text-text-grey-dark mt-[-3px]",children:t.description})]}),e.jsx(S,{className:"w-[23px] text-text-grey-dark mr-[9px]"})]},a))}),s==="textsSetup"&&T.map((t,a)=>e.jsxs("div",{className:"flex flex-col m-[16px_20px]",children:[e.jsx("span",{className:"text-text-grey-dark text-xxs pb-[2px]",children:t.name}),e.jsx("style",{children:`
                  textarea::placeholder {
                    transition: color 0.3s ease-in-out;
                  }
                `}),e.jsx("textarea",{ref:l=>{n.current[t.id]=l},placeholder:"Место для текста",className:`
                  h-[60px]
                  resize-none
                  outline-0
                  border-1
                  border-grey-dark
                  text-text
                  text-h5
                  rounded-[8px]
                  p-[10px_12px]
                  transition-[border-color]
                  duration-300
                  ease-in-out
                  hover:border-grey-dark
                  active:border-grey-dark
                  placeholder-shown:border-grey-light
                  placeholder:italic
                  placeholder:text-small
                  placeholder:text-text-grey-light
                  placeholder:border-grey-light
                  hover:placeholder:text-text-grey-dark
                `,defaultValue:C.find(l=>l.id===a)?.value})]},a)),s==="accessSetup"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:`
                h-[101px]
                w-[100%]
                flex
                p-[20px]
                my-[20px_8px]
                border-1
                border-yellow-accent-light
                rounded-[8px]
                justify-between
                items-center
                hover:border-yellow-light
                active:border-yellow-accent-dark
                bg-white
                cursor-pointer
              `,onClick:m,children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-h3 text-text mt-[-3px]",children:y.find(t=>t.id===r)?.name}),e.jsx("span",{className:"text-h4sb text-text-grey-dark mt-[-3px]",children:y.find(t=>t.id===r)?.description})]}),e.jsx(S,{className:"w-[23px] text-text-grey-dark mr-[9px] rotate-180"})]}),e.jsx("div",{className:"bg-white rounded-[8px] flex-1 p-[20px]",children:e.jsx("div",{className:"flex flex-col flex-wrap content-start [@media(min-width:1220px)]:max-h-[616px]",children:E.map((t,a)=>{let l;switch(a){case 1:l="mb-[12px]";break;case 4:l="mb-[40px]";break;default:l="mb-[20px]"}return e.jsxs("div",{className:`${l} min-w-[462px] pl-[20px] `,children:[e.jsx("h5",{className:"text-h5 h-[40px] mb-[12px] flex items-center",children:t.name}),e.jsx("div",{className:"flex flex-col gap-[8px]",children:N.filter(i=>i.groupId===t.id).map((i,j)=>e.jsxs("div",{className:"h-[40px] ml-[40px] flex items-center gap-[12px]",children:[e.jsx(F,{checked:o[i.id],onChange:f=>B(i.id,f)}),e.jsx("span",{className:"text-h5",children:i.name})]},j))})]},a)})})})]})]})]})},G=V;export{G as Component};
